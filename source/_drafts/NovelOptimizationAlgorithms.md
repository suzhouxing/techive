# 启发式算法与精确算法的相似性

局部搜索 -- 单纯形法
遗传算法 -- 列生成
拍卖算法/格局检测 -- 拉格朗日松弛



# 树状局部搜索

从贪心初始解出发, 以优度优先顺序对所有叶子节点对应的当前解进行调整.



# 启发式树搜索

- 将搜索划分为粗粒度和细粒度 (block building)
  - 细粒度限制搜索深度, 搜索局部最优子结构
  - 粗粒度搜索到底, 尝试子结构的组合
- 向前看树搜索: 限制分支数量与回溯 (limited branching + limited backtracking = diving heuristic | beam search)
  - 对每棵子树, 仅从根节点出发的第一步尝试各个分支, 之后直接贪心走到底
    - 如果一步分支情况太多, 可以贪心走一步 (再加上后面走到底的下界估计), 只挑一部分第一步走得比较好的贪心走到底
  - 挑选最好的分支在该子树上递归调用该操作
- 粗粒度分支缓存
  - 物品集合的最优放置方案缓存起来 (有瑕疵估算下界, 没瑕疵精确解)
- 从松弛解出发尝试对松弛解做调整, 而非从头构造
  - 限制翻转次数 (仅挑选部分决策变量翻转), 从得到的局部最优解开始重新开始调整



# 改进蒙特卡洛树搜索 (局部搜索/进化算法/向前看树搜索/强化学习/蒙特卡洛树搜索)

- 关键模块
  - 一个可将任意部分解快速补全为完整解的贪心或随机算法 GR
    - 构造过程应生成与树搜索兼容的树节点数据结构
  - 搜索树维护
    - 仅保存最优完整解: 退化为移动邻域结构的局部搜索
    - 适当控制保存完整解的数量: 退化为混合进化算法
    - 保存所有节点
- 关键步骤
  - 使用贪心算法构造一个完整解
  - 每次从一个非叶子节点出发探索一个新分支, 使用 GR 算法将新分支剩余部分补全为完整解
    - 挑选策略
      - 贪心/随机
        - 大概率贪心小概率随机
        - 统一概率调整, 更优方案概率更大
      - 探索/利用
        - 优度
          - 根节点到当前节点/当前节点: 越差越应被选中
          - 当前节点到叶节点/当前节点所在的完整解/当前节点单步向前看树搜索得到完整解: 越好越应被选中
            - 最优分支/平均情况
        - 广度
          - 当前节点的直接分支数/叶节点数
    - 分支策略
      - 针对性调整
      - 随机调整
      - 单步向前看树搜索
- 关键问题
  - 如何控制使搜索不总是离叶子或树根过近?



# 优化遗传算法

将交叉算符视为限制决策变量取值范围的优化问题, 精确计算多个解向量的最优子模式组合.
在列生成与遗传算法间平衡.
种群中的可行解作为挑选模式的指导以提高模式组合成可行解的概率.



# 软禁忌 (拍卖算法)

通过调整相关项在目标函数中的权重占比来实现禁忌.
例如图着色中, 一条冲突边计 100 个单位的惩罚.
配合常规禁忌策略 (仅用于检测, 不直接影响邻域动作执行), 如果检测到解向量的部分特征在禁忌步长内重复出现, 则提升该冲突边的惩罚权重, 例如变为 101.



# 格局检测

...



# 优化转判定

...
