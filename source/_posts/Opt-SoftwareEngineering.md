---
title: 算法工程
date: 2019-01-13 11:13:02
categories:
- 技术
tags:
- 软件工程
- 技术
---
算法研发和常规软件开发十分相似, 但也有很多区别.
大多数工程项目往往更注重正确性, 为了提升代码的健壮性与可维护性, 可以适当牺牲性能.
而设计精妙的高效而复杂算法代码往往具有极高的耦合度, 难以进行系统的单元测试.
此外, 算法面临的需求往往不那么简单直接, 不是梳理清楚了业务逻辑就能欢快地敲代码了的.
算法研发真的这么任性吗?



# 软件工程

## 文档

- 需求分析
  - 相关技术调研
  - 自然语言描述
  - 基本概念定义
  - 建模四要素
  - 输入输出数据约定
- 用户手册
  - 概要设计
  - 接口定义
  - 功能覆盖
- 算法设计
  - 技术规范
  - 模块划分
  - 处理流程
- 测试分析
  - 测试环境
  - 测试用例
  - 测试结果
  - 正确性分析
  - 优度分析
  - 速度分析



# 工程实践经验

## 相关技术介绍

### 版本控制工具

- git (主流)
- svn
- mercurial

### 适合与版本控制工具配合使用的文档撰写工具

- Markdown
  - 一种功能非常精简的标记语言
  - https://guides.github.com/features/mastering-markdown/
  - 建议使用 typora 阅读 (修改 `base.user.css` 实现显示多级标题)
- LaTeX
  - 功能强大的标记语言
  - 同样适用于科技论文写作

### 数学规划求解器 -- 完成需求分析即完成算法设计!

- [Gurobi](http://www.gurobi.com/)
  - 目前最高效的求解器
  - 支持免费学术许可证申请
- [CPLEX](https://www.ibm.com/software/commerce/optimization/cplex-optimizer/)
  - IBM旗下的"行业标准"
- [SCIP](http://scip.zib.de/)
  - 号称最快的开源求解器
- [COIN-OR](https://projects.coin-or.org/Cbc)
  - 功能繁多的开源运筹学工具包

### 代码可读性

- 使用版本控制减少被注释掉的代码
- 使用有具体意义的单词作为标识符以减少臃肿的注释
- 使用自动排版工具调整代码格式
- 合理的功能模块划分和封装以避免过长的函数 (但是有时真的无法避免)


## 开发

### 自动化测试

- 使用配置文件
  - 方案选择 (使用配置文件将导致代码过于臃肿时可以考虑预处理语句)
  - 参数设置
  - 算例选择
  - 建议使用json文件格式
- 自动批量测试
  - 计算结果合法性检验
  - 计算结果目标函数值正确性检验
  - 独立重复运行
  - 多个算例
  - 多个配置
  - 多线程 (注意写同一个日志文件时应加入互斥机制)
- 运行日志
  - 原始日志
    - 能够评价每次运行的时空开销与解的质量
    - 能够还原求解过程和结果 (随机种子, 运行时间, 迭代次数, 宏开关状态, 参数设置...)
    - 建议使用csv文件进行组织
  - 初步加工
    - 多阶段问题整合各阶段的数据得到整个周期的结果
  - 举例
    ![RawLog](RawLog.png)
- 结果分析
  - 初步统计
    - 极值, 均值, 方差, 耗时...
    - ClosedXML编辑xlsx文件
  - 对比分析
    - 在所有算例上的综合评价方案/参数好坏的策略
    - Excel条件格式, 排序, Excel录制宏
  - 举例
    ![Statistics](Statistics.png)
